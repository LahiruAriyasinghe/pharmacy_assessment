!function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,function(n){return e[n]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=19)}({19:function(e,n,t){e.exports=t("rwYt")},rwYt:function(e,n){var t,r,a=null;$(document).ready((function(){$('[data-toggle="tooltip"]').tooltip(),t=IMask(document.getElementById("chnl_contact"),{mask:"000 000 0000"}),r=IMask(document.getElementById("chnl_age"),{mask:Number,scale:0,signed:!1,min:0,max:150}),IMask(document.getElementById("chnl_hospital_fee"),{mask:Number,scale:2,signed:!1,thousandsSeparator:"",radix:".",padFractionalZeros:!0,min:0,max:1e6}),a=IMask(document.getElementById("chnl_number"),{mask:Number,scale:0,signed:!1,thousandsSeparator:"",radix:".",padFractionalZeros:!1,min:0,max:9999999999}),l()})),jQuery.validator.setDefaults({errorElement:"div",errorPlacement:function(e,n){e.addClass("invalid-feedback"),n.closest("div").append(e)},highlight:function(e,n,t){$(e).addClass("is-invalid")},unhighlight:function(e,n,t){$(e).removeClass("is-invalid")}});var o=$("#chnl_invoice_form").validate({submitHandler:function(){var e;c(),e=$("#chnl_invoice_form"),u(!0),$.ajax({type:"POST",url:e.attr("action"),data:e.serialize(),success:function(e){u(!1),"success"in e?Swal.fire({title:"Token "+e.data.token,text:"Transaction Completed",icon:"success",showCancelButton:!0,reverseButtons:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#6c757d",confirmButtonText:"Print invoice",cancelButtonText:"Close"}).then((function(n){n.value&&window.open(e.data.invoice_pdf_url),l()})):Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong!"})},error:function(e,n,t){u(!1),Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong!"})}})},rules:{title:{required:!0},first_name:{required:!0,maxlength:250},last_name:{required:!1,maxlength:250},contact:{required:!0,minlength:12,maxlength:14},age:{required:!0},gender:{required:!0},doctor:{required:!0},session:{required:!0},drug_fee:{required:!1}}});function c(){var e=$("#chnl_doctor_fee").val(),n=$("#chnl_hospital_fee").val(),t=$("#chnl_drug_fee").val(),r=(parseFloat(e||0)+parseFloat(n||0)+parseFloat(t||0)).toFixed(2),a=r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");$("#chnl_total_val").html(a),$("#chnl_total").val(r)}function l(){o.resetForm(),$("#chnl_patient_form").trigger("reset"),$("#chnl_invoice_form").trigger("reset"),$("#chnl_number_search_btn_inactive").hide(),$("#chnl_number_search_btn_active").show(),$("#chnl_doctor_fee").val($("#chnl_doctor").children("option:selected").data("fee")),s(),c(),i()}function i(){var e=$("#chnl_doctor").val(),n=sessionListUrl.replace("xx",e);$.ajax({type:"GET",url:n,data:null,success:function(e){if("success"in e){var n,t=e.data.sessions,r=$("#chnl_session"),a=null;return 0==t.length?$("#chnl_session_help").html("Note: Selected doctor doesn't assign with any session.").show():$("#chnl_session_help").hide(),r.empty(),void t.forEach((function(e){a=e.maximum_patients<=e.channels_count?"| ** max user limit exceeds **":"",n='<option value="'.concat(e.id,'">').concat(e.name," - ").concat(e.week_day," | ").concat(e.start_at," ").concat(a,"</option>"),r.append(n),n=null}))}Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong!"})},error:function(e,n,t){Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong!"})}})}function s(){$("#chnl_patient_id").val(""),$("#chnl_title").val("Mr"),$("#chnl_first_name").val(""),$("#chnl_last_name").val(""),$("#chnl_contact").val(""),$("#chnl_age").val(""),$("#chnl_gender").val("M"),t.value="",r.value="",a.value="",$("#chnl_clear_info_btn").hide(),$("#chnl_number").focus()}function u(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];$("#chnl_paid_btn").attr("disabled",e)}$("#chnl_doctor").change((function(e){$("#chnl_doctor_fee").val($(this).children("option:selected").data("fee")),c()})),$("#chnl_drug_fee").keyup((function(e){c()})),$("#chnl_patient_form").validate({submitHandler:function(){!function(){var e=$("#chnl_number").val(),n=$("#chnl_patient_form").attr("action").replace("xx",e);if(""==e.trim())return;$("#chnl_number_search_btn_active").hide(),$("#chnl_number_search_btn_inactive").show(),$.ajax({type:"GET",url:n,data:null,success:function(e){if($("#chnl_number_search_btn_inactive").hide(),$("#chnl_number_search_btn_active").show(),"success"in e)return n=e.data.patient,$("#chnl_patient_id").val(n.id),$("#chnl_title").val(n.title),$("#chnl_first_name").val(n.first_name),$("#chnl_last_name").val(n.last_name),$("#chnl_contact").val(n.contact),$("#chnl_age").val(n.age),$("#chnl_gender").val(n.gender),$("#chnl_clear_info_btn").show(),void $("#chnl_doctor").focus();var n;Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong!"})},error:function(e,n,t){$("#chnl_number_search_btn_inactive").hide(),$("#chnl_number_search_btn_active").show(),Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong!"})}})}()},rules:{number:{minlength:10,maxlength:10,number:!0}}}),$("#chnl_doctor").change((function(e){e.preventDefault(),i()})),$("#chnl_clear_info_btn").click((function(e){e.preventDefault(),s()})),$("#chnl_cancel_btn").click((function(e){e.preventDefault(),l()})),$("#chnl_number").keyup((function(e){13==e.keyCode&&$("#chnl_patient_form").submit()}))}});